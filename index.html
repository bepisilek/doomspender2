<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#0b66ff" />
<link rel="manifest" href="manifest.webmanifest?v=2025-11-05-3" />
<link rel="stylesheet" href="style.css?v=2025-11-05-3" />
<title>MunkaÃ³ra â€” Szia Lajos! ğŸ˜</title>
</head>
<body>

<!-- ==============================================================
     WELCOME
     ============================================================== -->
<div id="welcomeScreen" class="container" aria-live="polite">
  <div class="welcome-logo">â°</div>
  <h1 class="welcome-title">MunkaÃ³ra</h1>
  <p class="welcome-subtitle">Tudd meg, hÃ¡ny munkaÃ³rÃ¡dba kerÃ¼lnek a dolgok, Ã©s hozz okosabb dÃ¶ntÃ©seket!<br>
    <span class="pill">+ Szia Lajos! ğŸ˜</span>
  </p>
  <button class="welcome-btn" id="startBtn" aria-label="KezdjÃ¼k">KezdjÃ¼k! ğŸš€</button>
</div>

<!-- ==============================================================
     PROFILE SETUP (kÃ¶telezÅ‘)
     ============================================================== -->
<div id="profileSetupScreen" class="container hidden">
  <div class="card">
    <h2>ÃllÃ­tsd be a profilod</h2>
    <p>Az elsÅ‘ szÃ¡mÃ­tÃ¡shoz ezek kellenek.</p>
    <label for="setupName">BecenÃ©v</label>
    <input id="setupName" type="text" placeholder="Add meg a beceneved" />
    <label for="setupAge">Kor</label>
    <input id="setupAge" type="number" min="1" placeholder="Add meg a korod" />
    <label for="setupSalary">NettÃ³ havi fizetÃ©s (Ft)</label>
    <input id="setupSalary" type="number" min="1" placeholder="pl. 450000" />
    <label for="setupHours">Heti munkaÃ³rÃ¡k</label>
    <input id="setupHours" type="number" min="1" placeholder="pl. 40" />
    <div class="row">
      <button class="btn blue" id="saveSetupProfile">FolytatÃ¡s â†’</button>
      <button class="btn gray" id="backToWelcome">Vissza</button>
    </div>
  </div>
</div>

<!-- ==============================================================
     APP
     ============================================================== -->
<div id="appScreen" class="container hidden" aria-live="polite">
  <div class="app-header">
    <div class="brand">
      <h1>MunkaÃ³ra</h1>
      <small>Tudd, hÃ¡ny Ã³rÃ¡t dolgozol a vÃ¡gyaidÃ©rt.</small>
    </div>
    <div class="header-right">
      <div class="profile-icon" id="profileIcon" title="Profil">ğŸ‘¤</div>
    </div>
  </div>

  <!-- NINCS profil tab! -->
  <nav class="tabs" role="tablist">
    <button class="tab active" data-view="calc" role="tab" aria-selected="true">KalkulÃ¡tor</button>
    <button class="tab" data-view="results" role="tab">EredmÃ©nyek</button>
    <button class="tab" data-view="stats" role="tab">Statisztika</button>
    <button class="tab" data-view="goals" role="tab">CÃ©lok</button>
  </nav>

  <!-- ======================= CALCULATOR ======================= -->
  <section id="view-calc" class="card" role="region" aria-label="KalkulÃ¡tor">
    <h2>KalkulÃ¡tor</h2>
    <p class="center" id="hello">Szia! KezdjÃ¼k egy tÃ©tellel.</p>
    <label for="productName">TermÃ©k neve</label>
    <input id="productName" type="text" placeholder="pl. AirPods Pro" />
    <label for="productPrice">TermÃ©k Ã¡ra (Ft)</label>
    <input id="productPrice" type="number" min="1" placeholder="pl. 79990" />
    <button class="btn yellow btn-full" id="calculateBtn">KiszÃ¡molom</button>

    <div id="calcResult" class="hidden mt-12">
      <p class="result" id="workHoursText"></p>
      <p class="center small" id="hourlyHint"></p>
      <div class="calc-actions">
        <button class="btn green" id="saveBtn" type="button">MegspÃ³rolom ğŸ’š</button>
        <button class="btn red" id="buyBtn" type="button">Megveszem ğŸ’¸</button>
      </div>
      <p class="small mt-6 center">A mentÃ©shez vÃ¡laszd ki, hogy spÃ³rolod vagy megveszed.</p>
    </div>
  </section>

  <!-- ======================= RESULTS ======================= -->
  <section id="view-results" class="card hidden" role="region" aria-label="EredmÃ©nyek">
    <h2>EredmÃ©nyek</h2>
    <div class="sum mt-6">
      <div><span>ğŸ’š MegspÃ³rolt Ã¶sszeg</span><b id="totalSaved">0 Ft</b></div>
      <div><span>ğŸ’¸ ElkÃ¶ltÃ¶tt Ã¶sszeg</span><b id="totalSpent">0 Ft</b></div>
      <div><span class="muted">ğŸ§® NettÃ³</span><b id="net">0 Ft</b></div>
    </div>

    <div class="controls mt-12">
      <input id="searchBox" type="search" placeholder="KeresÃ©s nÃ©v szerintâ€¦" aria-label="KeresÃ©s" />
      <select id="filterSelect" class="only-wide" aria-label="SzÅ±rÃ©s">
        <option value="all">Ã–sszes</option>
        <option value="saved">Csak spÃ³rolt</option>
        <option value="spent">Csak megvett</option>
      </select>
      <select id="sortSelect" class="only-wide" aria-label="RendezÃ©s">
        <option value="date_desc">DÃ¡tum â†“</option>
        <option value="date_asc">DÃ¡tum â†‘</option>
        <option value="price_desc">Ã–sszeg â†“</option>
        <option value="price_asc">Ã–sszeg â†‘</option>
        <option value="name_asc">NÃ©v Aâ€“Z</option>
        <option value="name_desc">NÃ©v Zâ€“A</option>
      </select>
    </div>

    <ul class="list" id="itemList"></ul>

    <div class="row mt-12">
      <button class="btn gray" id="clearAll">Lista Ã¼rÃ­tÃ©se</button>
      <button class="btn blue" data-view="calc">Ãšj tÃ©tel</button>
    </div>
  </section>

  <!-- ======================= STATS ======================= -->
  <section id="view-stats" class="card hidden" role="region" aria-label="Statisztika">
    <h2>Statisztika</h2>
    <div class="stat-legend">
      <span class="dot green"></span><span class="small">MegspÃ³rolt</span>
      <span class="dot red"></span><span class="small">Megvett</span>
    </div>
    <canvas id="statsCanvas" width="680" height="360"></canvas>
    <p class="center small mt-10">Havi bontÃ¡s + mozgÃ³Ã¡tlag (Ft)</p>
  </section>

  <!-- ======================= GOALS ======================= -->
  <section id="view-goals" class="card hidden" role="region" aria-label="CÃ©lok">
    <h2>CÃ©lok</h2>
    <label for="monthlyCap">Havi kÃ¶ltÃ©si keret (Ft)</label>
    <input id="monthlyCap" type="number" min="0" placeholder="pl. 100000" />
    <label for="savingGoal">SpÃ³rolÃ¡si cÃ©l (Ft)</label>
    <input id="savingGoal" type="number" min="0" placeholder="pl. 300000" />
    <div class="row">
      <button class="btn blue" id="saveGoals">CÃ©lok mentÃ©se</button>
      <button class="btn gray" id="resetGoals">CÃ©lok tÃ¶rlÃ©se</button>
    </div>
    <div class="mt-12">
      <div class="center small mt-6"><b>SpÃ³rolÃ¡si cÃ©l teljesÃ¼lÃ©se</b> â€” <span id="goalProgressLabel">0%</span></div>
      <div class="progress mt-10"><div class="bar" id="goalProgressBar" style="width:0%"></div></div>
    </div>
  </section>

  <div id="funnyThreat" class="funny-threat" role="status" aria-live="polite"></div>
  <div id="a2hsPill" class="a2hs-pill" role="dialog" aria-live="polite" aria-label="Add hozzÃ¡ a MunkaÃ³ra appot">
    <span>HozzÃ¡adnÃ¡d a MunkaÃ³ra appot a kezdÅ‘kÃ©pernyÅ‘dhÃ¶z?</span>
    <button id="a2hsAction" type="button">TelepÃ­tÃ©s</button>
    <button id="a2hsClose" class="close" type="button" aria-label="BezÃ¡rÃ¡s">âœ•</button>
  </div>

  <footer class="mt-16">Â© 2025 MunkaÃ³ra â€¢ Szia Lajos! ğŸ˜</footer>

  <div id="coach" class="bubble" role="status" aria-live="polite"></div>
  <div id="snack" class="snack hidden"></div>
</div>

<!-- ==============================================================
     PROFILE MODAL (ikonbÃ³l)
     ============================================================== -->
<div id="profileModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Profil szerkesztÃ©se">
  <div class="modal-content">
    <h2>Profil szerkesztÃ©se</h2>
    <label for="editName">BecenÃ©v</label>
    <input id="editName" type="text" />
    <label for="editAge">Kor</label>
    <input id="editAge" type="number" min="1" />
    <label for="editSalary">NettÃ³ havi fizetÃ©s (Ft)</label>
    <input id="editSalary" type="number" min="1" />
    <label for="editHours">Heti munkaÃ³rÃ¡k</label>
    <input id="editHours" type="number" min="1" />
    <div class="modal-actions">
      <button class="btn blue" id="saveEditProfile">MentÃ©s</button>
      <button class="btn gray" id="closeModal">MÃ©gse</button>
      <button class="btn red" id="deleteProfile">Profil tÃ¶rlÃ©se</button>
    </div>
  </div>
</div>

<!-- ==============================================================
     SETTINGS MODAL (export/import/reset) â€“ a profil ikon nÃ©lkÃ¼l is jÃ³l jÃ¶het
     ============================================================== -->
<div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="BeÃ¡llÃ­tÃ¡sok">
  <div class="modal-content">
    <h2>BeÃ¡llÃ­tÃ¡sok</h2>
    <div class="row">
      <button class="btn blue" id="exportData">Export JSON</button>
      <button class="btn green" id="importData">Import JSON</button>
      <button class="btn red" id="resetAll">Teljes reset</button>
    </div>
    <textarea id="jsonArea" class="code" placeholder='Itt jelenik meg az exportÃ¡lt JSON, vagy ide illeszd be az importot'></textarea>
    <div class="modal-actions">
      <button class="btn gray" id="closeSettings">BezÃ¡r</button>
    </div>
  </div>
</div>

<script src="app.js?v=2025-11-05-3"></script>
</body>
</html>
